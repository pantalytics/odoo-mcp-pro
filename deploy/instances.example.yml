# Odoo MCP Server — Instance Configuration
#
# 1. Copy this file:  cp instances.example.yml instances.yml
# 2. Edit your values below
# 3. Generate files:  python generate.py
#
# Each instance becomes a separate MCP endpoint:
#   https://<domain>/<instance-name>/mcp

domain: mcp.example.com

# ─── Authentication ────────────────────────────────────────────
# Choose ONE of the following options:
#
# Option A: Self-hosted Zitadel (include this section)
# Option B: Zitadel Cloud (remove this section, update oauth URLs)
#
# See SETUP.md for details on each option.

zitadel:
  domain: auth.example.com

# OAuth 2.1 (optional — remove to disable authentication)
# Set ZITADEL_CLIENT_ID and ZITADEL_CLIENT_SECRET in .env
oauth:
  issuer_url: https://auth.example.com
  introspection_url: https://auth.example.com/oauth/v2/introspect
  resource_server_url: https://mcp.example.com

# ─── Odoo Instances ───────────────────────────────────────────

instances:

  # Odoo.sh (JSON/2 API, Odoo 19+)
  production:
    odoo_url: https://mycompany.odoo.com
    odoo_db: ""                              # empty for Odoo.sh (hostname selects DB)
    odoo_api_key: "${ODOO_API_KEY}"          # set actual value in .env, not here
    api_version: json2
    yolo: "true"
    # yolo controls which operations Claude can perform:
    #   "off"  — only models in Odoo's /mcp/models/ endpoint (requires module)
    #   "read" — read-only access to all models
    #   "true" — full access (recommended for JSON/2: Odoo handles ACLs server-side)

  # Self-hosted Odoo (example — uncomment to use)
  # staging:
  #   odoo_url: https://staging.mycompany.com
  #   odoo_db: staging                       # required for self-hosted
  #   odoo_api_key: "${STAGING_ODOO_API_KEY}"
  #   api_version: json2
  #   yolo: "read"

  # Legacy Odoo 14-18 (XML-RPC, example — uncomment to use)
  # legacy:
  #   odoo_url: https://old.mycompany.com
  #   odoo_db: production
  #   odoo_api_key: "${LEGACY_ODOO_API_KEY}"
  #   api_version: xmlrpc
  #   yolo: "off"
